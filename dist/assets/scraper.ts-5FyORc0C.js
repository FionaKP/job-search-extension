if(typeof window.__jobTrackerScraperLoaded>"u"){let c=function(t){var i;for(const e of t)try{const o=document.querySelector(e);if(o)return o instanceof HTMLImageElement&&o.alt?o.alt.trim():((i=o.textContent)==null?void 0:i.trim())||""}catch{}return""},d=function(){const t=window.location.href;for(const[i,e]of Object.entries(p))if(e.match.test(t))return{name:i,config:e};return null},s=function(t){return t?t.replace(/\s+/g," ").replace(/[\n\r]+/g," ").trim().substring(0,1e3):""},m=function(){var r;const t=d(),i=t?t.config.selectors:a,e={title:[...i.title||[],...a.title],company:[...i.company||[],...a.company],location:[...i.location||[],...a.location],description:[...i.description||[],...a.description]},o={url:window.location.href,title:s(c(e.title)),company:s(c(e.company)),location:s(c(e.location)),description:s(c(e.description)),detectedSite:(t==null?void 0:t.name)||"generic",scrapedAt:new Date().toISOString()};if(!o.title&&document.title){const n=document.title.split(/[-|–—]/);n.length>0&&(o.title=n[0].trim())}if(!o.company&&document.title){const n=document.title.split(/[-|–—]/);n.length>1&&(o.company=n[1].trim())}const b=[/\$[\d,]+\s*[-–to]+\s*\$[\d,]+/gi,/\$[\d,]+\s*(?:per\s+)?(?:year|yr|annually|hour|hr)/gi],u=((r=document.body)==null?void 0:r.innerText)||"";for(const n of b){const l=u.match(n);if(l){o.salary=l[0];break}}return o};window.__jobTrackerScraperLoaded=!0;const p={linkedin:{match:/linkedin\.com\/jobs/,selectors:{title:[".job-details-jobs-unified-top-card__job-title h1",".jobs-unified-top-card__job-title",".topcard__title","h1.t-24"],company:[".job-details-jobs-unified-top-card__company-name a",".jobs-unified-top-card__company-name a",".topcard__org-name-link"],location:[".job-details-jobs-unified-top-card__primary-description-container .tvm__text",".jobs-unified-top-card__bullet"],description:[".jobs-description__content",".jobs-box__html-content",".description__text"]}},indeed:{match:/indeed\.com\/viewjob|indeed\.com\/jobs/,selectors:{title:[".jobsearch-JobInfoHeader-title",'h1[data-testid="jobTitle"]',".icl-u-xs-mb--xs h1"],company:['[data-testid="inlineHeader-companyName"] a','[data-company-name="true"]'],location:['[data-testid="inlineHeader-companyLocation"]',".jobsearch-JobInfoHeader-subtitle > div:last-child"],description:["#jobDescriptionText",".jobsearch-jobDescriptionText"]}},greenhouse:{match:/boards\.greenhouse\.io|.*\.greenhouse\.io/,selectors:{title:[".app-title","h1.heading"],company:[".company-name",".logo img[alt]"],location:[".location",".body--metadata"],description:["#content",".content"]}},lever:{match:/jobs\.lever\.co/,selectors:{title:[".posting-headline h2","h2"],company:[".posting-headline .sort-by-time",".main-header-logo img[alt]"],location:[".posting-categories .location",".sort-by-time.posting-category"],description:['.posting-page [data-qa="job-description"]',".section-wrapper.page-full-width"]}},workday:{match:/myworkdayjobs\.com|workday\.com/,selectors:{title:['[data-automation-id="jobPostingHeader"]','h2[data-automation-id="jobPostingTitle"]'],company:['[data-automation-id="jobPostingCompanyName"]'],location:['[data-automation-id="locations"]','[data-automation-id="jobPostingLocation"]'],description:['[data-automation-id="jobPostingDescription"]']}}},a={title:["h1",'[class*="job-title"]','[class*="jobTitle"]','[class*="position-title"]',"title"],company:['[class*="company-name"]','[class*="companyName"]','[class*="employer"]'],location:['[class*="location"]','[class*="job-location"]','[class*="jobLocation"]'],description:['[class*="job-description"]','[class*="jobDescription"]','[class*="description"]',"article","main"]};chrome.runtime.onMessage.addListener((t,i,e)=>{if(t.action==="scrapeJob"){const o=m();e(o)}return!0}),console.log("Job Tracker: Content script loaded on",window.location.hostname)}
