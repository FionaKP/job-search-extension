function r(o,t){var e;try{const a=o.querySelector(t);return((e=a==null?void 0:a.textContent)==null?void 0:e.trim())||null}catch{return null}}function g(o,t,e){try{const a=o.querySelector(t);return(a==null?void 0:a.getAttribute(e))||null}catch{return null}}function $(o,t){try{return Array.from(o.querySelectorAll(t)).map(e=>{var a;return(a=e.textContent)==null?void 0:a.trim()}).filter(e=>!!e)}catch{return[]}}function m(o,t){for(const e of t){const a=r(o,e);if(a)return a}return null}function D(o,t,e){for(const a of t){const i=g(o,a,e);if(i)return i}return null}function c(o){return o?o.replace(/\s+/g," ").replace(/[\n\r\t]/g," ").trim():null}function f(o,t){return o?o.length<=t?o:o.slice(0,t-3)+"...":null}function d(o){if(!o)return null;try{return o.startsWith("//")?"https:"+o:o.startsWith("/")?new URL(o,window.location.origin).href:new URL(o).href}catch{return o}}function w(o){try{const t=new URL(o),a=t.hostname.split(".");if(a.includes("lever")||a.includes("greenhouse")){const l=t.pathname.split("/").filter(Boolean);if(l.length>0)return l[0].replace(/-/g," ").replace(/\b\w/g,s=>s.toUpperCase())}const i=a[0]==="www"?a[1]:a[0];return i&&i!=="jobs"&&i!=="careers"?i.charAt(0).toUpperCase()+i.slice(1):null}catch{return null}}function F(o){if(!o)return null;let t=o;const e=[/\s*[-|]\s*(?:Apply|Apply Now|Job Details).*$/i,/\s*[-|]\s*LinkedIn.*$/i,/\s*[-|]\s*Indeed.*$/i,/\s*\(.*ID:?\s*\d+.*\)$/i];for(const a of e)t=t.replace(a,"");return c(t)}const z=[/\$[\d,]+\s*[-–—]\s*\$[\d,]+(?:\s*(?:per\s+)?(?:year|yr|annually|hour|hr))?/gi,/\$[\d,]+\s*[kK]\s*[-–—]\s*\$?[\d,]+\s*[kK]?/g,/\$[\d,]+(?:\.\d{2})?\s*(?:\/\s*(?:hr|hour|yr|year|mo|month|week|wk|annual|annually))/gi,/[\d,]+\s*[-–—]\s*[\d,]+\s*(?:USD|CAD|EUR|GBP|AUD)/gi,/\$[\d,]+(?:\.\d{2})?/g];function _(o,t){for(const e of t){const a=r(o,e);if(a){const i=L(a);if(i)return i}}return O(o)}function L(o){if(!o)return null;for(const t of z){t.lastIndex=0;const e=o.match(t);if(e){const a=e[0].trim();if(/\d/.test(a))return a}}return null}function O(o){const t=['[class*="salary"]','[class*="Salary"]','[class*="compensation"]','[class*="Compensation"]','[class*="pay-"]','[class*="Pay"]','[data-testid*="salary"]','[data-automation-id*="salary"]'];for(const e of t)try{const a=r(o,e);if(a){const i=L(a);if(i)return i}}catch{}return null}function b(o){let t=0,e=0;return e+=3,o.title&&o.title.length>3?t+=3:o.title&&o.title.length>0&&(t+=1),e+=2,o.company&&o.company.length>1?t+=2:o.company&&(t+=1),e+=2,o.description&&o.description.length>100?t+=2:o.description&&o.description.length>20&&(t+=1),e+=1,o.location&&o.location.length>2&&(t+=1),e+=1,o.salary&&(t+=1),Math.round(t/e*100)/100}const v=['[class*="company-logo"] img','[class*="companyLogo"] img','[class*="company_logo"] img','[class*="employer-logo"] img','[class*="employerLogo"] img',".logo img",'header img[alt*="logo" i]','img[alt*="company" i][alt*="logo" i]'],x={google:"google.com",alphabet:"abc.xyz",meta:"meta.com",facebook:"facebook.com",amazon:"amazon.com",apple:"apple.com",microsoft:"microsoft.com",netflix:"netflix.com",airbnb:"airbnb.com",uber:"uber.com",lyft:"lyft.com",spotify:"spotify.com",slack:"slack.com",salesforce:"salesforce.com",stripe:"stripe.com",shopify:"shopify.com",twilio:"twilio.com",zoom:"zoom.us",dropbox:"dropbox.com",linkedin:"linkedin.com",twitter:"twitter.com",x:"x.com",snap:"snap.com",snapchat:"snapchat.com",pinterest:"pinterest.com",reddit:"reddit.com",discord:"discord.com",github:"github.com",gitlab:"gitlab.com",atlassian:"atlassian.com",jira:"atlassian.com",confluence:"atlassian.com",notion:"notion.so",figma:"figma.com",canva:"canva.com",adobe:"adobe.com",oracle:"oracle.com",ibm:"ibm.com",intel:"intel.com",nvidia:"nvidia.com",amd:"amd.com",cisco:"cisco.com",vmware:"vmware.com",dell:"dell.com",hp:"hp.com","hewlett packard":"hp.com",samsung:"samsung.com",sony:"sony.com",lg:"lg.com",paypal:"paypal.com",square:"squareup.com",block:"block.xyz",robinhood:"robinhood.com",coinbase:"coinbase.com",plaid:"plaid.com",doordash:"doordash.com",instacart:"instacart.com",grubhub:"grubhub.com",postmates:"postmates.com",peloton:"onepeloton.com",tesla:"tesla.com",spacex:"spacex.com",palantir:"palantir.com",databricks:"databricks.com",snowflake:"snowflake.com",datadog:"datadoghq.com",splunk:"splunk.com",elastic:"elastic.co",mongodb:"mongodb.com",redis:"redis.com",cloudflare:"cloudflare.com",fastly:"fastly.com",akamai:"akamai.com",okta:"okta.com",auth0:"auth0.com",hashicorp:"hashicorp.com",docker:"docker.com",kubernetes:"kubernetes.io",redhat:"redhat.com","red hat":"redhat.com",canonical:"canonical.com",ubuntu:"ubuntu.com",suse:"suse.com",vercel:"vercel.com",netlify:"netlify.com",heroku:"heroku.com",digitalocean:"digitalocean.com",linode:"linode.com",vultr:"vultr.com",aws:"aws.amazon.com","amazon web services":"aws.amazon.com",gcp:"cloud.google.com","google cloud":"cloud.google.com",azure:"azure.microsoft.com",deloitte:"deloitte.com",mckinsey:"mckinsey.com",bcg:"bcg.com",bain:"bain.com",accenture:"accenture.com",kpmg:"kpmg.com",pwc:"pwc.com",ey:"ey.com","ernst & young":"ey.com",jpmorgan:"jpmorgan.com","goldman sachs":"goldmansachs.com","morgan stanley":"morganstanley.com","bank of america":"bankofamerica.com","wells fargo":"wellsfargo.com",citi:"citi.com",citibank:"citi.com",chase:"chase.com","capital one":"capitalone.com","american express":"americanexpress.com",amex:"americanexpress.com",visa:"visa.com",mastercard:"mastercard.com"};function U(o,t){const e=t?[...t,...v]:v;let a=D(o,e,"src");return a||(a=D(o,e,"data-src")),a||(a=g(o,'meta[property="og:image"]',"content")),d(a)}function N(o){const t=['link[rel="icon"]','link[rel="shortcut icon"]','link[rel="apple-touch-icon"]'];for(const e of t){const a=g(o,e,"href");if(a)return d(a)}try{return new URL("/favicon.ico",window.location.origin).href}catch{return null}}function H(o){if(!o)return null;const t=o.toLowerCase().trim();if(x[t])return x[t];for(const[a,i]of Object.entries(x))if(t.startsWith(a+" ")||t.startsWith(a+","))return i;const e=t.replace(/\s*(inc\.?|llc\.?|ltd\.?|corp\.?|corporation|company|co\.?|limited|gmbh|ag|sa|plc)\.?\s*$/i,"").replace(/[^a-z0-9\s]/g,"").trim().replace(/\s+/g,"");return e.length<2?null:`${e}.com`}function I(o,t=128){const e=H(o);return e?`https://www.google.com/s2/favicons?domain=${e}&sz=${t}`:null}function h(o,t,e){const a=U(o,e);if(a)return a;if(t){const i=I(t);if(i)return i}return N(o)}const q={name:"linkedin",domains:["linkedin.com"],pathPatterns:[/\/jobs\/view\//,/\/jobs\/collections\//,/\/jobs\/search\//],detect(o){return o.includes("linkedin.com/jobs")},extract(o,t){const e=m(o,[".job-details-jobs-unified-top-card__job-title h1",".job-details-jobs-unified-top-card__job-title",".jobs-unified-top-card__job-title","[data-test-job-title]",".topcard__title","h1.t-24","h1"]),a=m(o,[".job-details-jobs-unified-top-card__company-name a",".job-details-jobs-unified-top-card__company-name",".jobs-unified-top-card__company-name a",".jobs-unified-top-card__company-name","[data-test-company-name]",".topcard__org-name-link",".company-name"]),i=h(o,a,[".job-details-jobs-unified-top-card__company-logo img",".jobs-unified-top-card__company-logo img",".company-logo img",".topcard__org-photo img"]),l=m(o,[".job-details-jobs-unified-top-card__primary-description-container .tvm__text",".jobs-unified-top-card__bullet",".job-details-jobs-unified-top-card__primary-description-without-actions .tvm__text","[data-test-job-location]",".topcard__flavor--bullet"]),s=_(o,[".job-details-jobs-unified-top-card__job-insight",".jobs-unified-top-card__job-insight",".salary-main-rail__data-body","[data-test-compensation]",".compensation__salary"]),y=r(o,".jobs-description__content")||r(o,"#job-details")||r(o,".description__text")||r(o,".jobs-box__html-content"),n={title:c(e),company:c(a),companyLogo:d(i),location:c(l),salary:c(s),description:f(c(y),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"linkedin",confidence:0};return n.confidence=b({title:n.title,company:n.company,description:n.description,location:n.location,salary:n.salary}),n}},B={name:"indeed",domains:["indeed.com","indeed.co.uk","indeed.ca"],pathPatterns:[/\/viewjob/,/\/jobs/],detect(o){return o.includes("indeed.com")||o.includes("indeed.co.uk")||o.includes("indeed.ca")},extract(o,t){const e=m(o,['h1[data-testid="jobsearch-JobInfoHeader-title"]',".jobsearch-JobInfoHeader-title","h1.icl-u-xs-mb--xs",'[data-testid="jobTitle"]',".jobTitle","h1"]),a=m(o,['[data-testid="inlineHeader-companyName"] a','[data-testid="inlineHeader-companyName"]','[data-company-name="true"]',".jobsearch-InlineCompanyRating-companyHeader a",".jobsearch-InlineCompanyRating-companyHeader",".icl-u-lg-mr--sm a"]),i=h(o,a,[".jobsearch-CompanyAvatar-image",'[data-testid="companyAvatar"] img',".company-logo img"]),l=m(o,['[data-testid="inlineHeader-companyLocation"]','[data-testid="job-location"]',".jobsearch-JobInfoHeader-subtitle > div:last-child",".icl-u-xs-mt--xs .icl-IconFunctional--location + span"]),s=_(o,['[data-testid="attribute_snippet_testid"]',".jobsearch-JobMetadataHeader-item",".salary-snippet-container",".attribute_snippet","#salaryInfoAndJobType"]),y=r(o,"#jobDescriptionText")||r(o,".jobsearch-jobDescriptionText")||r(o,'[data-testid="jobDescriptionText"]'),n={title:c(e),company:c(a),companyLogo:d(i),location:c(l),salary:c(s),description:f(c(y),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"indeed",confidence:0};return n.confidence=b({title:n.title,company:n.company,description:n.description,location:n.location,salary:n.salary}),n}},R={name:"greenhouse",domains:["greenhouse.io","boards.greenhouse.io"],detect(o){return o.includes("greenhouse.io")},extract(o,t){const e=m(o,[".app-title","h1.job-title",".posting-headline h1","h1.heading","h1"]),a=r(o,".company-name")||g(o,'meta[property="og:site_name"]',"content")||g(o,".company-logo img","alt")||w(t),i=h(o,a,[".company-logo img",".logo img"]),l=m(o,[".location",".body--metadata .location",'[data-test="job-location"]',".posting-categories .location"]),s=m(o,[".salary",".compensation",'[class*="salary"]']),y=r(o,"#content")||r(o,".content")||r(o,".job-description")||r(o,".section-wrapper"),n={title:c(e),company:c(a),companyLogo:d(i),location:c(l),salary:c(s),description:f(c(y),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"greenhouse",confidence:0};return n.confidence=b({title:n.title,company:n.company,description:n.description,location:n.location,salary:n.salary}),n}},M={name:"lever",domains:["lever.co","jobs.lever.co"],detect(o){return o.includes("lever.co")},extract(o,t){const e=m(o,[".posting-headline h2",".posting-headline .posting-title","h2","h1"]),a=g(o,".main-header-logo img","alt")||r(o,".posting-headline .company-name")||w(t),i=h(o,a,[".main-header-logo img"]),l=m(o,[".posting-categories .location",".posting-headline .location",".sort-by-time.posting-category.location",'[data-qa="posting-location"]']),s=m(o,[".posting-categories .commitment",".posting-category.commitment"]),y=r(o,".posting-description")||r(o,'[data-qa="job-description"]')||r(o,".section-wrapper.page-full-width")||r(o,".content");let n=c(l);s&&n?n=`${n} (${c(s)})`:s&&(n=c(s));const p={title:c(e),company:c(a),companyLogo:d(i),location:n,salary:null,description:f(c(y),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"lever",confidence:0};return p.confidence=b({title:p.title,company:p.company,description:p.description,location:p.location,salary:p.salary}),p}},W={name:"workday",domains:["myworkdayjobs.com","workday.com"],detect(o){return o.includes("myworkdayjobs.com")||o.includes("workday.com")},extract(o,t){const e=m(o,['[data-automation-id="jobPostingHeader"]','[data-automation-id="jobPostingTitle"]','h2[data-automation-id="jobPostingTitle"]',".css-1q2dra3","h1","h2"]),a=m(o,['[data-automation-id="jobPostingCompanyName"]','[data-automation-id="companyName"]'])||w(t),i=h(o,a,['[data-automation-id="companyLogo"] img',".company-logo img"]),l=m(o,['[data-automation-id="locations"]','[data-automation-id="jobPostingLocation"]','[data-automation-id="location"]',".css-129m7dg"]),s=_(o,['[data-automation-id="salary"]','[data-automation-id="compensation"]',".salary-range"]),y=r(o,'[data-automation-id="jobPostingDescription"]')||r(o,'[data-automation-id="jobDescription"]')||r(o,".job-description"),n={title:c(e),company:c(a),companyLogo:d(i),location:c(l),salary:c(s),description:f(c(y),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"workday",confidence:0};return n.confidence=b({title:n.title,company:n.company,description:n.description,location:n.location,salary:n.salary}),n}},E={name:"glassdoor",domains:["glassdoor.com","glassdoor.co.uk","glassdoor.ca"],pathPatterns:[/\/job-listing\//,/\/Job\//],detect(o){return(o.includes("glassdoor.com")||o.includes("glassdoor.co.uk")||o.includes("glassdoor.ca"))&&(o.includes("/job-listing/")||o.includes("/Job/"))},extract(o,t){const e=m(o,['[data-test="job-title"]',".job-title",".css-1vg6q84","h1"]),a=m(o,['[data-test="employer-name"]',".css-87uc0g",".employer-name",".company-name"]),i=h(o,a,['[data-test="employer-logo"] img',".employer-logo img"]),l=m(o,['[data-test="job-location"]',".css-56kyx5",".location"]),s=_(o,['[data-test="detailSalary"]',".css-1bluz6i",".salary-estimate",".css-1xe2xww"]),y=r(o,'[data-test="job-description"]')||r(o,".jobDescriptionContent")||r(o,".desc"),n={title:c(e),company:c(a),companyLogo:d(i),location:c(l),salary:c(s),description:f(c(y),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"glassdoor",confidence:0};return n.confidence=b({title:n.title,company:n.company,description:n.description,location:n.location,salary:n.salary}),n}},G={name:"wellfound",domains:["wellfound.com","angel.co"],pathPatterns:[/\/jobs\//,/\/company\/.+\/jobs/],detect(o){return(o.includes("wellfound.com")||o.includes("angel.co"))&&(o.includes("/jobs")||o.includes("/role/"))},extract(o,t){const e=m(o,['[data-test="JobTitle"]',".styles_title__Ovpy8","h1.job-title",".styles_jobHeader__aXm_G h1","h1"]),a=m(o,['[data-test="StartupLink"]',".styles_company__jNhMv a",".styles_component__dKIYE a",".company-name",'[class*="StartupHeader"] a']),i=h(o,a,['[data-test="StartupLogo"] img',".styles_logo__JlBpT img",'[class*="StartupHeader"] img']),l=m(o,['[data-test="Location"]',".styles_location__2VOQX",".location",'[class*="LocationTag"]']),s=_(o,['[data-test="Salary"]',".styles_compensation__lUBBT",".compensation",'[class*="CompensationTag"]']),y=r(o,'[data-test="JobDescription"]')||r(o,".styles_description__nBQw2")||r(o,".job-description")||r(o,'[class*="JobDescription"]'),n={title:c(e),company:c(a),companyLogo:d(i),location:c(l),salary:c(s),description:f(c(y),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"wellfound",confidence:0};return n.confidence=b({title:n.title,company:n.company,description:n.description,location:n.location,salary:n.salary}),n}},P={name:"generic",domains:["*"],detect(){return!0},extract(o,t){const e=S(o),a=K(o),i=V(o),l=Y(o),s=Q(o),y=e.title??i.title??l.title??a.title??s.title??null,n=e.company??i.company??a.company??s.company??w(t),p=e.location??i.location??a.location??null,u=e.description??i.description??a.description??null,A=e.salary??i.salary??X(o),J=h(o,n),j={title:F(y),company:c(n),companyLogo:d(J),location:c(p),salary:c(A),description:f(c(u),5e3),url:d(t)||t,scrapedAt:Date.now(),source:"generic",confidence:0},C=e.title?.85:.7;return j.confidence=b({title:j.title,company:j.company,description:j.description,location:j.location,salary:j.salary})*C,j}};function S(o){var e,a;const t={};try{const i=o.querySelectorAll('script[type="application/ld+json"]');for(const l of i)try{const s=JSON.parse(l.textContent||""),y=Array.isArray(s)?s:[s];for(const n of y){if(n["@type"]==="JobPosting"||(a=(e=n["@type"])==null?void 0:e.includes)!=null&&a.call(e,"JobPosting")){if(t.title=n.title||n.name,t.description=n.description,n.hiringOrganization&&(t.company=typeof n.hiringOrganization=="string"?n.hiringOrganization:n.hiringOrganization.name),n.jobLocation){const p=n.jobLocation;if(typeof p=="string")t.location=p;else if(p.address){const u=p.address;t.location=[u.addressLocality,u.addressRegion,u.addressCountry].filter(Boolean).join(", ")}}if(n.baseSalary){const p=n.baseSalary;if(typeof p=="string")t.salary=p;else if(p.value){const u=p.value;typeof u=="object"&&u.minValue&&u.maxValue?t.salary=`$${u.minValue.toLocaleString()} - $${u.maxValue.toLocaleString()}`:t.salary=`$${u.toLocaleString()}`}}break}if(n["@graph"]){for(const p of n["@graph"])if(p["@type"]==="JobPosting")return S({querySelectorAll:()=>[{textContent:JSON.stringify(p)}]})}}}catch{}}catch{}return t}function K(o){return{title:g(o,'meta[property="og:title"]',"content")||g(o,'meta[name="twitter:title"]',"content")||g(o,'meta[name="title"]',"content"),company:g(o,'meta[property="og:site_name"]',"content")||g(o,'meta[name="author"]',"content"),description:g(o,'meta[property="og:description"]',"content")||g(o,'meta[name="description"]',"content")||g(o,'meta[name="twitter:description"]',"content"),location:null}}function V(o){const t=m(o,['[class*="job-title"]','[class*="jobTitle"]','[class*="job_title"]','[class*="position-title"]','[class*="positionTitle"]','[class*="posting-title"]','[class*="vacancy-title"]','[class*="role-title"]','[data-testid*="title"]','[data-automation-id*="title"]','[data-qa*="title"]',"#job-title","#jobTitle","#position-title",'[aria-label*="job title" i]',"main h1","article h1",".content h1","h1"]),e=m(o,['[class*="company-name"]','[class*="companyName"]','[class*="company_name"]','[class*="employer-name"]','[class*="employerName"]','[class*="organization-name"]','[class*="hiring-company"]','[data-testid*="company"]','[data-testid*="employer"]','[data-automation-id*="company"]',"#company-name","#companyName",'[aria-label*="company" i]']),a=m(o,['[class*="job-location"]','[class*="jobLocation"]','[class*="job_location"]','[class*="work-location"]','[class*="position-location"]','[class*="location"]','[data-testid*="location"]','[data-automation-id*="location"]',"#job-location","#location","address",'[aria-label*="location" i]']),i=m(o,['[class*="job-description"]','[class*="jobDescription"]','[class*="job_description"]','[class*="position-description"]','[class*="role-description"]','[class*="posting-description"]','[data-testid*="description"]','[data-automation-id*="description"]',"#job-description","#jobDescription",'[aria-label*="description" i]',"article","main .content","main"]),l=m(o,['[class*="salary"]','[class*="Salary"]','[class*="compensation"]','[class*="Compensation"]','[class*="pay-range"]','[class*="payRange"]','[data-testid*="salary"]','[data-testid*="compensation"]',"#salary","#compensation"]);return{title:t,company:e,location:a,description:i,salary:l}}function Y(o){const t=$(o,"h1, h2, h3");for(const e of t){const a=e==null?void 0:e.trim();if(!a)continue;const i=["engineer","developer","manager","analyst","designer","director","coordinator","specialist","consultant","lead","senior","junior","associate","intern","head of","vp","vice president","architect","administrator"],l=a.toLowerCase();if(i.some(s=>l.includes(s)))return{title:a}}return{}}function Q(o){const t=o.title;if(!t)return{};const e=t.match(/^(.+?)\s+at\s+(.+?)(?:\s*[-|]|$)/i);if(e)return{title:e[1].trim(),company:e[2].trim()};const a=t.match(/^([^:]+):\s*(.+?)(?:\s*[-|]|$)/);if(a&&a[2].length>5)return{title:a[2].trim(),company:a[1].trim()};const i=t.split(/\s*[-|–—]\s*/);if(i.length>=2){const l=i[0].trim(),s=i[1].trim();if(l.length>3&&l.length<100)return{title:l,company:s.length>1&&s.length<50?s:null}}return{}}function X(o){var t;try{const a=(((t=o.body)==null?void 0:t.innerText)||"").substring(0,1e4);return L(a)}catch{return null}}const T=[q,B,R,M,W,E,G,P];function k(o,t){for(const e of T)if(e.detect(o,t))return e;return P}function Z(o,t){return k(t,o).extract(o,t)}function oo(){return T.map(o=>o.name)}if(typeof window.__jobTrackerScraperLoaded>"u"){let o=function(){return Z(document,window.location.href)};window.__jobTrackerScraperLoaded=!0,chrome.runtime.onMessage.addListener((t,e,a)=>{if(t.action==="scrapeJob")try{const i=o();a(i)}catch(i){console.error("JobFlow: Scraper error",i),a({url:window.location.href,title:null,company:null,companyLogo:null,location:null,salary:null,description:null,scrapedAt:Date.now(),source:"error",confidence:0})}return!0}),typeof window<"u"&&(window.__JOBFLOW_DEBUG__={testScraper:()=>{const t=k(window.location.href,document),e=t.extract(document,window.location.href);return console.log("Parser:",t.name),console.log("Data:",e),console.log("Confidence:",Math.round(e.confidence*100)+"%"),e},listParsers:()=>{const t=oo();return console.log("Available parsers:",t),t},getParserForPage:()=>{const t=k(window.location.href,document);return console.log("Parser for this page:",t.name),t.name}},console.log("JobFlow Debug: Use window.__JOBFLOW_DEBUG__.testScraper() to test the scraper")),console.log("JobFlow: Content script loaded on",window.location.hostname)}
